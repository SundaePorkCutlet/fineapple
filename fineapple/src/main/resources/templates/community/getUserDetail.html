<!doctype html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" lang="ko">
<meta charset="utf-8">
<!-- 공통 header -->
<th:block th:replace="layout/fragments/header.html :: header"></th:block>

	<!--begin::Body-->
	<body id="kt_body" class="aside-enabled">
		<!-- 공통 SideBar -->
		<th:block th:replace="layout/fragments/sidebar.html :: sidebar"></th:block>
							<div style="left: 50%;">
								
									<!--begin::Card-->
									<div class="card">
										<!--begin::Card body-->
										<div class="card-body d-flex flex-center flex-column p-9">
											<!--begin::Avatar-->
											<div class="symbol symbol-65px symbol-circle mb-5">
												<img th:if ="${session.user != null}" th:src ="@{../assets/profile/}+${session.user.userImg}" alt=""/>
											</div>
											<!--end::Avatar-->
											<!--begin::Name-->
											<a href="#" class="fs-4 text-gray-800 text-hover-primary fw-bolder mb-0" th:text = "${user.userName}"></a>
											<!--end::Name-->
											<!--begin::Position-->
											<div class="fw-bold text-gray-400 mb-6" th:text = "${user.userSttMsg}"></div>
											<div id="userId" class="fw-bold text-gray-400 mb-6" th:text = "${user.userId}"></div>
											<!--end::Position-->
											<!--begin::Info-->
											<div class="d-flex flex-center flex-wrap mb-5">
												<!--begin::Stats-->
												<div class="border border-dashed rounded min-w-125px py-3 px-4 mx-3 mb-3">
													<div class="fs-6 fw-bolder text-gray-700">성별</div>
													<div class="fw-bold text-gray-400"th:text = "${user.gender}"></div>
												</div>
												<!--end::Stats-->
												<!--begin::Stats-->
												<div class="border border-dashed rounded min-w-125px py-3 px-4 mx-3 mb-3">
													<div class="fs-6 fw-bolder text-gray-700">나이</div>
													<div class="fw-bold text-gray-400"th:text = "${user.age}"></div>
												</div>
												<!--end::Stats-->
											</div>
											<!--end::Info-->
											
											
											
											
											<span>
											
											
											
											
											
											
									
											
											
											<!--begin::Follow-->
											<a href="#" class="btn btn-sm btn-light" th:onClick ="javascript:fcAddaddGroupToUserInter()">
											<!--begin::Svg Icon | path: icons/duotune/arrows/arr075.svg-->
											<span class="svg-icon svg-icon-3">
												<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
													<rect opacity="0.5" x="11.364" y="20.364" width="16" height="2" rx="1" transform="rotate(-90 11.364 20.364)" fill="black"></rect>
													<rect x="4.36396" y="11.364" width="16" height="2" rx="1" fill="black"></rect>
												</svg>
											</span>
											<!--end::Svg Icon-->Group</a>
											<!--end::Follow-->
											
											
											
											
											<!--begin::Follow-->
											<a href="#" class="btn btn-sm btn-light" th:onClick="javascript:fcAddBattleView()">
											<!--begin::Svg Icon | path: icons/duotune/arrows/arr075.svg-->
											<span class="svg-icon svg-icon-3">
												<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
													<rect opacity="0.5" x="11.364" y="20.364" width="16" height="2" rx="1" transform="rotate(-90 11.364 20.364)" fill="black"></rect>
													<rect x="4.36396" y="11.364" width="16" height="2" rx="1" fill="black"></rect>
												</svg>
											</span>
											<!--end::Svg Icon-->Battle</a>
											<!--end::Follow-->
											
											
											
											
											<!--begin::Follow-->
											<a  th:id="postReport" href="#" th:attr="data-userId=${user.userId}" class="btn btn-sm btn-light" th:onClick="javascript:fcReportPost(1,this.id)">
											<!--begin::Svg Icon | path: icons/duotune/arrows/arr075.svg-->
											<span class="svg-icon svg-icon-3">
												<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
													<rect opacity="0.5" x="11.364" y="20.364" width="16" height="2" rx="1" transform="rotate(-90 11.364 20.364)" fill="black"></rect>
													<rect x="4.36396" y="11.364" width="16" height="2" rx="1" fill="black"></rect>
												</svg>
											</span>
											<!--end::Svg Icon-->Report</a>
											<!--end::Follow-->
											
											
									
											
											
											
											
										</span>
										
										
										
										
										
										
										
										
										
										</div>
										<!--begin::Card body-->
									</div>
									<!--begin::Card-->
								
							</div>
		<!-- 공통 하단 footer -->
		<th:block th:replace="layout/fragments/footer.html :: footer"></th:block>
		<div id="mmodalHolder"></div>
		<script type="text/javascript">
		function fnGetUser(userId){
			console.log("fnGetUser" + "앙기모띄~" + userId);
			
		
			
			
			
			
			
			
			
		}
		
		
		
		function fcAddBattleView(no, cateNo){
			var data = { "userId" : $("#userId").text()};
			console.log("안녕");
			$.ajax({
				url: "/community/addBattleView", //url : 요청 Url
				type: "POST", //type : 데이터를 전송하는 방법 (get, post)
				dataType: "html", //서버측에서 전송받은 데이터의 형식 (default : xml, json, script, text, html) //=> default는 html
				data: JSON.stringify(data), //요청과 함께 서버로 데이터를 전송 할 string 또는 map
				contentType: "application/json",  // 서버에 보내는 데이터의 타입이다.
				success: function(data){ //  요청이 성공 했을 때 호출할 콜백 함수
					console.log("성공" + data);
					
					$("#mmodalHolder").html(data);
		            $("#addBattleViewModal").modal("show");
					
				}
				
			})
		};
		
		function fcAddaddGroupToUserInter(){
			
			var userId = $("#userId").text();
			
			var data = {"userId" : userId};
			
			console.log("안녕" + data.userId);
			$.ajax({
				url: "/community/addGroupToUserInter", //url : 요청 Url
				type: "POST", //type : 데이터를 전송하는 방법 (get, post)
				data: JSON.stringify(data),
				dataType: "html", //서버측에서 전송받은 데이터의 형식 (default : xml, json, script, text, html) //=> default는 html
				//data: data, //요청과 함께 서버로 데이터를 전송 할 string 또는 map
				contentType: "text/html", // 서버에 보내는 데이터의 타입이다.
				success: function(data){ //  요청이 성공 했을 때 호출할 콜백 함수
					console.log("성공" + data);
					
					$("#mmodalHolder").html(data);
		            $("#addGroupToUserInterModal").modal("show");
					
				}
				
			})
		};
		
		
		function fcReportPost(cate, id){
			
			console.log(cate);
			console.log(id);
			
			
			var reportedTrgtNoData = $('#'+ id).attr("data-trgtNo");
			var cateNoData = cate
			var reportedUserData  = $('#'+ id).attr("data-userId");
			console.log(reportedTrgtNoData);
			console.log(reportedUserData);
			
			
			var data = {"TrgtNo" : reportedTrgtNoData, "reportCate" : cateNoData, "userId" : reportedUserData};
			console.log(data);
			$.ajax({
				url: "/community/reportPostView", //url : 요청 Url
				type: "POST", //type : 데이터를 전송하는 방법 (get, post)
				dataType: "html", //서버측에서 전송받은 데이터의 형식 (default : xml, json, script, text, html) //=> default는 html
				data: JSON.stringify(data), //요청과 함께 서버로 데이터를 전송 할 string 또는 map
				contentType: "application/json",  // 서버에 보내는 데이터의 타입이다.
				//async: false, //async: true <== default
				success: function(data){ //  요청이 성공 했을 때 호출할 콜백 함수
					console.log("성공" + data);
					
					$("#mmodalHolder").html(data);
		            $("#reportPostViewModal").modal("show");
					
				}
				
			})
		};
		</script>

	</body>
	<!--end::Body-->
</html>